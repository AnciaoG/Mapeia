<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Mapeia - Home</title>
  <link rel="stylesheet" href="/style.css">
</head>
<body>
  <header>
    <nav id="menu">
      <a href="/equipe">Equipe</a>
      <a href="/projeto">Sobre o Projeto</a>
      <!-- Links de login/cadastro ou mapas/admin ser칚o adicionados dinamicamente via JS -->
      <img src="/imagens/usuario.png" class="usuario-logo">
    </nav>
  </header>

  <main>
    <div class="logo-container">
      <img src="/imagens/logo-mapeia.png" alt="Logo do Mapeia" class="logo">
    </div>

    <div class="texto-home">
      <h1>Bem-vindo ao Mapeia 游</h1>
      <p>
        O Mapeia 칠 um prot칩tipo de Sistema de Informa칞칚o Geogr치fica na Web (SIGWeb), 
        criado com o objetivo de apoiar a gest칚o urbana no munic칤pio de Coelho Neto (MA). 
        A plataforma foi pensada para reunir e disponibilizar dados sobre alagamentos, 
        seguran칞a p칰blica e tr치fego, oferecendo uma forma acess칤vel e interativa de an치lise 
        e visualiza칞칚o para gestores e cidad칚os.
      </p>
      <p>
        O sistema j치 conta com funcionalidades como consulta espacial, visualiza칞칚o de camadas 
        tem치ticas e gera칞칚o de relat칩rios, possibilitando um primeiro passo importante para o 
        diagn칩stico de problemas urbanos. Apesar de ainda estar em fase de desenvolvimento e 
        testes, o Mapeia busca se consolidar como uma ferramenta inovadora para a cidade, 
        com potencial de expans칚o para integra칞칚o de dados em tempo real e adapta칞칚o a outros munic칤pios.
      </p>
      <p class="importante">
       Importante: este site apresenta um prot칩tipo em constru칞칚o, sujeito a ajustes e melhorias constantes.
      </p>
    </div>
  </main>

  <footer>
    <img src="/imagens/logo-ifma.png" alt="Logo IFMA" class="footer-logo">
    <img src="/imagens/logo-fapema.png" alt="Logo FAPEMA" class="footer-logo">
    <img src="/imagens/logo-mapeia.png" alt="Logo Mapeia" class="footer-logo">
  </footer>

  <script>
    // Menu din칙mico baseado na sess칚o do usu치rio
    fetch("/session")
      .then(res => res.json())
      .then(data => {
        const menu = document.getElementById("menu");

        if (data.logged) {
          // Link Mapas
          const mapas = document.createElement("a");
          mapas.href = "/mapa";
          mapas.textContent = "Mapas";
          menu.appendChild(mapas);

          if (data.isAdmin) {
            const controle = document.createElement("a");
            controle.href = "/perfil";
            controle.textContent = "Controle";
            menu.appendChild(controle);
          } else {
            const perfil = document.createElement("a");
            perfil.href = "/perfil";
            perfil.textContent = "Meu Perfil";
            menu.appendChild(perfil);
          }

          // Logout
          const logout = document.createElement("a");
          logout.href = "/logout";
          logout.textContent = "Sair";
          menu.appendChild(logout);

        } else {
          // Usu치rio n칚o logado
          const login = document.createElement("a");
          login.href = "/login";
          login.textContent = "Login";
          menu.appendChild(login);

        }
      });
  </script>
</body>
</html>
